# Criando uma Aplicação Web Serverless com Amplify e Lambda
<h1 id="c273a63e-d57c-43f3-9a36-0d4184ae6c61" class="">Introdução</h1><p id="7c72d78a-b41f-4fa3-8b34-b86a726f11ff" class="">Esta documentação descreve as etapas necessárias para a criação de uma aplicação Web, sem a necessidade de gerenciamento de servidores(serverless).</p><p id="bbbfc04c-2621-4909-bd37-f5156624aa36" class="">Além de contar com um processo de versionamento para o deploy automático e monitoramento de novas implementações no aplicativo.</p><p id="55e7eca4-7454-4879-bc15-017e4a02a5a6" class="">A aplicação terá como como principal tarefa, realizar o cálculo de uma operação exponencial passada pelo usuário e retornar o seu resultado final. Sendo este resultado, armazenado em um banco de dados NoSQL.</p><p id="3542b0c4-f19f-452b-bca7-69290608891b" class="">
</p><h1 id="a64f14b9-34ba-4cfb-9f16-773c8b476507" class="">Explicação das Ferramentas/Serviços</h1><ul id="52a48abc-0392-43c7-ac32-c7b9083b0a0d" class="bulleted-list"><li style="list-style-type:disc">Git – O Git é um Sistema de Controle de Versões Distribuído. Estes sistemas de controle possuem a função de registrar quaisquer alterações feitas em cima de um código, armazenando essas informações e permitindo que, caso seja necessário, um(a) programador(a) possa regredir a versões anteriores de uma aplicação de modo simples e rápido.</li></ul><p id="a973ec5e-8eea-4962-8f5e-7a0bcbf07000" class="">
</p><ul id="9ec2874c-b786-4bd3-aa28-47b7d99218b4" class="bulleted-list"><li style="list-style-type:disc">AWS CodeCommit – O AWS CodeCommit é um serviço de controle de código-fonte totalmente gerenciado, seguro e altamente escalável que hospeda repositórios privados do Git.</li></ul><p id="de842620-8085-458e-b8c0-ee0033abba9c" class="">
</p><ul id="31371b89-d0d5-419a-84e9-556dd5dea9e4" class="bulleted-list"><li style="list-style-type:disc">AWS Amplify – O AWS Amplify é uma solução completa que permite que desenvolvedores frontend para plataformas móveis e Web criem, enviem e hospedem aplicações full-stack na AWS, contando com a flexibilidade de poder aproveitar a amplitude dos serviços da AWS à medida que seus casos de uso evoluem. Não é necessário ter especialização em nuvem.</li></ul><p id="40804afc-35c3-4e5c-9e8a-1557287f8832" class="">
</p><ul id="c4ce000a-aff7-4466-a9f6-1a556674f0ed" class="bulleted-list"><li style="list-style-type:disc">API Gateway – O Amazon API Gateway é um serviço gerenciado que permite que desenvolvedores criem, publiquem, mantenham, monitorem e protejam APIs em qualquer escala com facilidade. APIs agem como a “porta de entrada” para aplicativos acessarem dados, lógica de negócios ou funcionalidade de seus serviços de back-end.</li></ul><p id="18898678-b8e0-4698-8228-2b3d837b36db" class="">
</p><ul id="784a3540-be95-465d-87e5-7b8e30a534f4" class="bulleted-list"><li style="list-style-type:disc">AWS Lambda – O AWS Lambda é um serviço de computação sem servidor e orientado a eventos que permite executar código para praticamente qualquer tipo de aplicação ou serviço de backend sem provisionar ou gerenciar servidores.</li></ul><p id="6cb4ae9c-2de4-4318-b8fd-a23defd2dead" class="">
</p><ul id="4d634b0c-7546-4d73-8971-6a947826e469" class="bulleted-list"><li style="list-style-type:disc">IAM – Com o AWS Identity and Access Management (IAM), você pode especificar quem ou o que pode acessar serviços e recursos na AWS, gerenciar permissões refinadas de maneira centralizada e analisar o acesso para refinar as permissões na AWS.</li></ul><p id="786d2b0c-e8ed-4edc-b3af-94613889d91b" class="">
</p><ul id="92098f8d-8865-4a4f-91f8-40d8e5c67da6" class="bulleted-list"><li style="list-style-type:disc">DynamoDB – O Amazon DynamoDB é um banco de dados de chave-valor NoSQL, sem servidor e totalmente gerenciado, projetado para executar aplicações de alta performance em qualquer escala.</li></ul><p id="cf67e596-d9d9-4b5f-9fda-1f7f945e5353" class="">
</p><h1 id="f35caa23-3e56-4b14-8693-0caecc372334" class="">Pré-requisitos do Projeto</h1><ul id="c1808727-a8f4-41c9-9175-5a7f68ec13f8" class="bulleted-list"><li style="list-style-type:disc">Uma conta ativa da AWS</li></ul><ul id="516ef1f9-0249-4302-89ec-75c02e4eba38" class="bulleted-list"><li style="list-style-type:disc">Conhecimento básico dos serviços da AWS</li></ul><ul id="49d033ab-0a90-4da7-9109-ef01077d33fa" class="bulleted-list"><li style="list-style-type:disc">Uma Aplicação Web</li></ul><ul id="ebc1294f-ec66-4d1a-ad73-6dcf16f5c5f5" class="bulleted-list"><li style="list-style-type:disc">Git Instalado</li></ul><ul id="3ca98e46-4047-445b-86ba-f1b982b0d75c" class="bulleted-list"><li style="list-style-type:disc">Visual Studio Code</li></ul><p id="a7b14f33-9788-46a8-a36c-e0cf97bc059b" class="">
</p><h1 id="be6766f2-1ba2-4c7a-9a08-c627cbe79c85" class="">Etapas do Projeto</h1><ol type="1" id="b6dfe190-6a02-47b6-ab26-45e8187f7cd1" class="numbered-list" start="1"><li>Criação do Aplicativo Web</li></ol><ol type="1" id="6463a82d-ea15-4629-a233-f7de1607d0eb" class="numbered-list" start="2"><li>Conexão do Visual Studio Code e Git</li></ol><ol type="1" id="88157f3e-f47a-473f-af80-c8407003e669" class="numbered-list" start="3"><li>Conexão do Git com o AWS CodeCommit</li></ol><ol type="1" id="7bc0767b-4131-416f-b487-03078c4cc49c" class="numbered-list" start="4"><li>Conexão entre CodeCommit e Amplify</li></ol><ol type="1" id="c8208075-0f93-4877-8870-3eccb9311ca6" class="numbered-list" start="5"><li>Criação da função no AWS Lambda</li></ol><ol type="1" id="b21a0e3a-a4ef-45a1-8374-b88b9604873b" class="numbered-list" start="6"><li>Conexão entre o AWS Lambda e o API Gateway</li></ol><ol type="1" id="b6cdd1f1-7ce3-4a66-b047-0471f7927504" class="numbered-list" start="7"><li>Criação de Tabela no DynamoDB</li></ol><ol type="1" id="3d9aed58-69ac-41ef-9c1a-e85a0a16d630" class="numbered-list" start="8"><li>Criação de permissão no IAM para o AWS Lambda conseguir gravar informação no DynamoDB</li></ol><ol type="1" id="7386d295-eb53-44be-aeaa-b73e9aecf3bc" class="numbered-list" start="9"><li>Conexão entre o API Gateway e o Amplify</li></ol><ol type="1" id="df61d82d-b6d3-4ba5-beca-81ae586a6341" class="numbered-list" start="10"><li>Resultados do Projeto</li></ol><h1 id="49741c19-e89c-4726-90ce-14d0c40e883d" class="">Arquitetura</h1><figure id="49acc9b0-706a-4f5b-851b-2d5a6a4abb91" class="image"><a href="Prints/Untitled.png"><img style="width:1179px" src="Prints/Untitled.png"/></a></figure><p id="9c50143c-645c-4dfb-bad5-9fd2e21e6e06" class="">
</p><h1 id="ddc65719-2ab5-4981-b1db-2e31d72dc56b" class="">Passo-a-Passo do Projeto</h1><p id="789bf9ed-7e13-4ca9-97d8-e23b118074e0" class="">
</p><h2 id="74fc4feb-65cd-46b8-8443-a173a5e898f7" class="">1. Criação da Aplicação Web</h2><p id="47d2527c-9e17-4807-9f76-1a86ec6c837f" class="">O objetivo do projeto não é sobre a complexidade da aplicação ou design dela. Portanto, não iremos nos atentar muito sobre a aplicação em si, mas principalmente na estrutura de soluções em nuvem que utilizaremos para a proposta do projeto.</p><p id="abb0d897-dbd0-4396-a2a8-db91e7dc0ea4" class="">Logo, utilizaremos, inicialmente, uma estrutura de HTML simples, apenas para colocarmos a aplicação no ar e observarmos se funcionou:</p><pre id="b52d16cb-4661-49ef-bc95-d1125f0071c5" class="code"><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Aplicativo Exponencial!&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    Conheça o potencial do Aplicativo Exponencial!
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="bf363030-9c61-438b-9c6b-997b5e676fc3" class="">
</p><p id="9469b21a-3681-4953-8d7a-0a0da113d03c" class="">Caso você tenha alguma outra estrutura de código que deseja utilize, fique a vontade para usar.</p><p id="0bfb0ec2-205c-42da-8c0a-8ce3afaf6125" class="">
</p><h2 id="7fb9d852-acdd-4a51-a071-1ee7b0d3f936" class="">2. Conexão do Visual Studio Code e Git</h2><p id="1ec97a89-e7f3-47a8-a924-3866fcf147fa" class="">Já com o Visual Studio Code e Git instalado. Faremos a criação do nosso arquivo “index.html” dentro de uma pasta na sua máquina local:</p><figure id="9f52983b-b3e5-40dd-9cbd-dd6d1c57c17b" class="image"><a href="Prints/Untitled%201.png"><img style="width:2560px" src="Prints/Untitled%201.png"/></a></figure><p id="eedfe7ae-d3a9-428a-84d7-7fbb95581157" class="">
</p><p id="301a56d3-15fd-4ee9-8904-3ccc1154bbe4" class="">E então para a utilização do Git no Visual Studio code, recomendo a utilização da extensão:”Git Extension Pack”, para uma visualização mais fácil das atividades do Git:</p><figure id="11bc97b8-d3af-43e0-9d1c-d0292ef6f8ce" class="image"><a href="Prints/Untitled%202.png"><img style="width:395px" src="Prints/Untitled%202.png"/></a></figure><p id="1a45a386-deb0-4ca0-b64b-761a860fc2c5" class="">
</p><p id="8c6393c0-282b-4bf6-a4c5-46fb5b31b257" class="">Se for a primeira utilização do Git em seu VS Code, lembrar de conectar sua conta do GitHub ao VS Code. E então iniciaremos a criação de um repositório local em nosso projeto de aplicativo, com o comando:</p><pre id="53ee5588-32d3-4a9d-8609-f15a683752b1" class="code"><code>git init</code></pre><p id="d84d22bf-d6c3-491a-9b9f-12899ee90350" class=""><div class="indented"><p id="64b4b993-81f7-46be-a40b-8ffce8a8bf45" class="">Ao clicar no menu lateral do VS Code, em “Source Control”, você terá a seguinte visualização:</p><figure id="38727694-3bbd-4a33-b29a-9a292d778c7a" class="image"><a href="Prints/Untitled%203.png"><img style="width:2277px" src="Prints/Untitled%203.png"/></a></figure><p id="492beeb6-9194-42ce-90aa-596cf7d733a7" class="">
</p><h2 id="37da0810-1115-462f-bcdc-8a6198118fe0" class="">3. Conexão do Git com o AWS CodeCommit</h2><p id="215f7350-0a77-41f4-8004-65c06731dca5" class="">Antes de conectarmos o nosso repositório local ao repositório do CodeCommit da AWS. Nós iremos precisar realizar a criação de um usuário no IAM, que tenha acesso aos serviços que nós iremos utilizar nesse projeto(caso você esteja utilizando o usuário raiz da AWS).</p><p id="ce76643c-2e5d-4884-8642-028479cdcfe6" class="">Por recomendação de segurança, o padrão é que não seja utilizando o usuário raiz(conta que realizou a criação da conta AWS), para atividades padrões da AWS. E que sim, tenha um usuário, criado no IAM, com funções administrativas. Portanto, faremos a criação:</p><ol type="1" id="e8623632-2079-4762-9c93-1b54d13eb6da" class="numbered-list" start="1"><li>Acesse o seu AWS Console</li></ol><ol type="1" id="a969d5fe-26df-43ec-83cc-6041d7134943" class="numbered-list" start="2"><li>Acesse o serviço do <strong>Identity and Access Management (IAM)</strong></li></ol><ol type="1" id="8adc8cc2-b68e-4928-ade1-c8b4014b141f" class="numbered-list" start="3"><li>Clique na aba de “Usuários”</li></ol><figure id="040814c2-b718-44e0-b179-736ab67f6de6" class="image"><a href="Prints/Untitled%204.png"><img style="width:2498px" src="Prints/Untitled%204.png"/></a></figure><ol type="1" id="af8fabfa-a03f-4965-9003-ee0f0a15804a" class="numbered-list" start="4"><li>E então clique em “Adicionar usuários”</li></ol><ol type="1" id="5f304603-ddce-4325-83fe-1417a915778f" class="numbered-list" start="5"><li>Dê um nome para o usuário de acesso</li></ol><figure id="2afa8c56-a962-4a4c-b0bf-827a98a2c332" class="image"><a href="Prints/Untitled%205.png"><img style="width:1305px" src="Prints/Untitled%205.png"/></a></figure><ol type="1" id="30c437a6-5bd5-4ba1-9112-e0c75246b79c" class="numbered-list" start="6"><li>Clique em “Anexar políticas diretamente”. E então busque por “admin”, você irá anexar a seguinte política de acesso ao seu usuário:</li></ol><figure id="63f854a3-2ac6-4104-a8ed-7808512751e2" class="image"><a href="Prints/Untitled%206.png"><img style="width:1293px" src="Prints/Untitled%206.png"/></a></figure><ol type="1" id="fb4c1369-187a-4547-a7af-e32776d8b2dd" class="numbered-list" start="7"><li>Na etapa de revisão basta você clicar em “Criar usuário”</li></ol><ol type="1" id="8e849c74-f8f7-4dfe-abf4-1e353a0b09a0" class="numbered-list" start="8"><li>De volta ao painel de usuários, clique no usuário que você acabou de criar</li></ol><ol type="1" id="1c80db3b-4d03-48f6-928a-07e5aea0f782" class="numbered-list" start="9"><li>Clique na aba de “Credenciais de segurança”</li></ol><figure id="726daf4b-329d-481f-b2b6-6b50313a9f4f" class="image"><a href="Prints/Untitled%207.png"><img style="width:1320px" src="Prints/Untitled%207.png"/></a></figure><ol type="1" id="ef2ba473-1b5c-42a1-8810-b2fb6b3a55eb" class="numbered-list" start="10"><li>E então clique em “Habilitar acesso ao console” em “Login do Console”. Para você liberar o acesso aos Console de Acesso da Amazon para esse seu novo usuário:</li></ol><figure id="d4a4d9a2-e871-4c6f-8e0f-5605c03649aa" class="image"><a href="Prints/Untitled%208.png"><img style="width:1331px" src="Prints/Untitled%208.png"/></a></figure><ol type="1" id="23d31909-4f14-49a4-8499-f33ac73e598d" class="numbered-list" start="11"><li>Habilite o console para o usuário</li></ol><ol type="1" id="1ed5781a-075b-48ab-be8e-11c99fe01a90" class="numbered-list" start="12"><li>Crie uma senha personalizada para seu usuário</li></ol><figure id="97a6a6fc-4c68-4a32-bf54-5cb7d1838cc8" class="image"><a href="Prints/Untitled%209.png"><img style="width:575px" src="Prints/Untitled%209.png"/></a></figure><ol type="1" id="258fafb3-4217-4ff1-be45-cf17469981ba" class="numbered-list" start="13"><li>E então logue nesse novo usuário que você acabou de realizar a criação.</li></ol></div></p><p id="42b5aa4f-9dec-480a-8389-a6204b897b35" class="">
</p><p id="4e00868a-2031-4300-a3d2-2274087c9eb5" class="">Além de ser um padrão de segurança da AWS, quando nós usarmos o CodeCommit conectado ao nosso Git. Ele nos dá como recomendação não utilizar o usuário raiz, limitando até nossas formas de conexão entre os respositórios, por motivos de segurança.</p><p id="9b77483b-7dcb-4d90-a9e4-12aa602b498b" class="">Então o próximo passo será você acessar o CodeCommit, já utilizando o novo usuário que você criou, e a criação do repositório:</p><figure id="6a8b71c0-026e-4661-b04e-602203ef9b8f" class="image"><a href="Prints/Untitled%2010.png"><img style="width:1620px" src="Prints/Untitled%2010.png"/></a></figure><p id="b529c040-b8b2-49de-b8d2-b3fd526df3cc" class="">
</p><p id="d964379e-ade9-43a9-bab6-555bfd69b008" class="">Para esse repositório, escolheremos o nome de “aplicativo-exponencial”. E você pode confirmar a sua criação, resultando na seguinte tela:</p><figure id="d44b4a23-b2e9-4567-ba06-c5fcefd48222" class="image"><a href="Prints/Untitled%2011.png"><img style="width:1355px" src="Prints/Untitled%2011.png"/></a></figure><p id="cee81235-202e-477e-86f3-64c944a6875a" class="">
</p><p id="c375b31d-a8ef-4445-a892-a628a73f6968" class="">Para esse projeto, faremos uma conexão utilizando o método HTTPS. Então logo em cima, clique em clonar URL e selecione “Clonar HTTPS”</p><figure id="48e5663d-c553-4484-9871-95c7ff98f370" class="image"><a href="Prints/Untitled%2012.png"><img style="width:1317px" src="Prints/Untitled%2012.png"/></a></figure><p id="b0c699d2-e499-400a-a5e2-db3041b5ad72" class="">
</p><p id="ee9038c3-4d8e-4ce0-bda9-3bc499d3d835" class="">E já com o repositório criado. Faremos a conexão do nosso repositório local com o nosso repositório da AWS. Voltaremos ao Visual Studio Code e usaremos no terminal:</p><pre id="f9f2cab4-7c56-4752-9844-8ab936df2a2f" class="code"><code>git remote add aplicativo-exponencial https://git-codecommit.sa-east-1.amazonaws.com/v1/repos/aplicativo-exponencial</code></pre><p id="6bec0091-5037-46d5-9179-fe8c5a906e8d" class="">
</p><p id="e7119a13-56d2-4dae-b7db-ca391b516c1b" class="">Para saber se conectamos corretamente com o repositório remoto da AWS, pode utilizar:</p><pre id="4c522f1f-0835-474c-b7b4-311d5bbcda4f" class="code"><code>git remote -v</code></pre><p id="659fa032-6d33-4277-8816-4784eae7df50" class="">
</p><p id="f7bc1832-6aa8-48b1-ae4d-f9b32f488716" class="">E aparecerá uma conexão “fetch” e “push” com o seu repositório:</p><figure id="7ea353f4-12ff-4432-803c-bdf929f8a606" class="image"><a href="Prints/Untitled%2013.png"><img style="width:832px" src="Prints/Untitled%2013.png"/></a></figure><p id="3a101b63-6903-4de4-bc65-9cbcda883989" class="">
</p><p id="cec19f57-0627-4c24-a259-da92153eef00" class="">Por padrão, o git da sua máquina local usará o “branch” principal como “master”, enquanto na AWS o principal “branch” é o “main”. Então faremos uma alteração para evitar possíveis problemas ao enviar os arquivos para a AWS, alteraremos o nome da branch principal do nosso repositório local para “main”:</p><pre id="65d2ff2a-6e72-4f3b-8f43-5d419628d2f8" class="code"><code>git branch -m master main</code></pre><p id="dcceb632-05ae-4346-b821-055d57c34c88" class="">
</p><p id="21e6054b-3588-4c4c-9c27-089e7a60a04b" class="">E com todas as configurações realizadas, podemos enviar o nosso arquivo “index.html” que está na nossa máquina local para o repositório da AWS. Faremos primeiro com que nosso arquivo vá para a fase de ‘stage’ e logo em seguida para o ‘commit’:</p><pre id="f8417d6d-0982-44d0-857c-952c6e9bb00c" class="code"><code>git add .\index.html</code></pre><pre id="02b683e9-6cac-4e59-8cef-1cbf3b0b0753" class="code"><code>git commit -m &quot;Initial Commit&quot;</code></pre><p id="00c72044-fed1-4e0e-b183-d86173732e8c" class="">
</p><p id="9182929d-3788-4e6c-a9f8-ec072d26e035" class="">E você obterá a seguinte resposta do terminal:</p><figure id="1ad24a36-5315-4b74-87f5-0b1650fc081d" class="image"><a href="Prints/Untitled%2014.png"><img style="width:743px" src="Prints/Untitled%2014.png"/></a></figure><p id="0ac6094f-ea85-4485-abbb-df3f4807b956" class="">
</p><p id="790fbd12-1e6c-45f9-83be-f5c883071eee" class="">Logo em sequência nós faremos o “push” para dentro do repositório da AWS:</p><pre id="bef59b90-fb34-47e1-b224-b08167f4e2c9" class="code"><code>git push aplicativo-exponencial main</code></pre><p id="92fbcdf6-715d-4baa-a231-bbc36a4b3480" class="">
</p><p id="5bd9962f-a0f0-4f7a-82dd-18304adb1cc9" class="">E teremos a seguinte resposta:</p><figure id="35e12174-0b27-4f1b-ad97-e31096aab959" class="image"><a href="Prints/Untitled%2015.png"><img style="width:747px" src="Prints/Untitled%2015.png"/></a></figure><p id="9ccf9ffb-3a40-441d-baa1-3ee0432f75c1" class="">
</p><p id="a35ae538-d91b-43e5-9be4-3ced2b0fa85a" class="">E quando olhamos para dentro do nosso repositório da AWS, teremos já o nosso arquivo “index.html”:</p><figure id="7c901517-18bf-4f4b-9c8f-4c1ee5264942" class="image"><a href="Prints/Untitled%2016.png"><img style="width:1354px" src="Prints/Untitled%2016.png"/></a></figure><p id="16ee5f98-b431-4f00-9ddf-bcac6c80fee8" class="">
</p><p id="d967158e-84f5-45bd-b526-cd582ede00c4" class="">E com o Log de “Commit” atualizados:</p><figure id="84e33ccb-21f6-450b-8b11-2ddcc7a85dcc" class="image"><a href="Prints/Untitled%2017.png"><img style="width:1627px" src="Prints/Untitled%2017.png"/></a></figure><p id="17dedccb-c027-4bf9-bfc0-343f084cdb33" class="">
</p><h2 id="9b657755-47e8-4714-a8de-421f6526a613" class="">4. Conexão entre CodeCommit e Amplify</h2><p id="b1b05566-890b-46d1-b137-8521ac8e80a4" class="">Agora nós faremos a criação do nosso aplicativo no Amplify, utilizando os arquivos presentes no nosso repositório do CodeCommit.</p><ol type="1" id="c5741525-95f6-4e7e-9d51-6f679c87611c" class="numbered-list" start="1"><li>Busque pelo serviço “<strong><strong>AWS Amplify</strong></strong>”</li></ol><ol type="1" id="ab1b591b-4eca-40ba-adb8-afa4fd4cf610" class="numbered-list" start="2"><li>Desça até o final da Página e selecione “Amplify Hosting”, clicando em “Comece a”</li></ol><figure id="04524761-5741-4f37-8378-e33d97229021" class="image"><a href="Prints/Untitled%2018.png"><img style="width:1345px" src="Prints/Untitled%2018.png"/></a></figure><ol type="1" id="7761082b-ccda-4744-a2da-d15a64bd8bfe" class="numbered-list" start="3"><li>Escolha a opção de “AWS CodeCommit”</li></ol><ol type="1" id="3104c13b-ad67-4d28-b780-c5b8f895681c" class="numbered-list" start="4"><li>Faça a seleção do repositório que nós criamos e está conectado com o nosso Git local:</li></ol><figure id="51538263-d184-4126-9167-960129d87f6b" class="image"><a href="Prints/Untitled%2019.png"><img style="width:1065px" src="Prints/Untitled%2019.png"/></a></figure><ol type="1" id="93148bb7-3a88-4bdf-99b6-fa5fbc893a91" class="numbered-list" start="5"><li>Na etapa de “Configurações de compilação”, apenas altere preenchendo o checkbox de “Permitir que o AWS Amplify implante automaticamente todos os arquivos hospedados no diretório raiz do projeto”</li></ol><figure id="19830d2d-2630-4ba4-b0b4-2a54aea70071" class="image"><a href="Prints/Untitled%2020.png"><img style="width:1091px" src="Prints/Untitled%2020.png"/></a></figure><ol type="1" id="cfcafc8d-4089-4469-bdd1-002fa5d49d8f" class="numbered-list" start="6"><li>Vá para a página de “Revisar” e clique em “Salvar e Implantar”. Você irá para a seguinte página, onde nós aguardaremos nossa aplicação ficar ativa na web:</li></ol><figure id="59d8a964-aefa-4f39-a6ee-35ba6ff48ea6" class="image"><a href="Prints/Untitled%2021.png"><img style="width:1386px" src="Prints/Untitled%2021.png"/></a></figure><ol type="1" id="9a77c066-c254-41ce-a25f-b2bc76618010" class="numbered-list" start="7"><li>Assim que a aplicação estiver implantada. Basta você clicar no link da aplicação que você irá conseguir olhar ela com base nosso projeto do “index.html”</li></ol><figure id="8f5140aa-912f-4b8d-8f7c-d965534c421a" class="image"><a href="Prints/Untitled%2022.png"><img style="width:1398px" src="Prints/Untitled%2022.png"/></a></figure><p id="1e9ef176-56c8-4d7a-ac1a-40dc783e5946" class="">
</p><p id="953303e2-7d64-42c6-9cd5-4d1e18c55edb" class="">Desta forma, sempre que fizermos um “push” dentro do nosso Visual Studio Code. Logo em seguida será refletida no AWS Amplify, em nossa aplicação web.</p><p id="c6e1efa3-2666-44a4-be7a-5f23cb583614" class="">
</p><h2 id="f902ff70-d42e-428a-9a9d-4e5020adc206" class="">5. Criação da função no AWS Lambda</h2><p id="3d5acd24-d1f7-4062-aa8c-ef52d2749fa6" class="">Nessa etapa nós iremos criar a nossa função serverless, que será a responsável por executar uma função que fará o cálculo da operação de exponenciação da nossa aplicação e então devolver o resultado.</p><ol type="1" id="67c4147e-d236-47ca-848e-29fb63a038f8" class="numbered-list" start="1"><li>Busque pela solução “<strong><strong>AWS Lambda</strong></strong>”</li></ol><ol type="1" id="a1d78a56-d09a-46a2-bb8a-03a8a5a7d814" class="numbered-list" start="2"><li>Selecione a opção de “Criar uma função”</li></ol><figure id="dc6b4486-7b1d-463e-a114-e352cc610b97" class="image"><a href="Prints/Untitled%2023.png"><img style="width:1291px" src="Prints/Untitled%2023.png"/></a></figure><ol type="1" id="df2561c5-8d85-4653-84fa-e30f7663ccd7" class="numbered-list" start="3"><li>Dê o nome para sua função e escolha Python 3.10. E clique em “Criar Função” ao final.</li></ol><figure id="1a3d0e73-ce8d-46fb-a0fd-05da89222e8d" class="image"><a href="Prints/Untitled%2024.png"><img style="width:1603px" src="Prints/Untitled%2024.png"/></a></figure><ol type="1" id="b57b10e6-8eae-485d-9515-c3156fa38c63" class="numbered-list" start="4"><li>Logo embaixo, você terá uma função padrão de “Hello World”:</li></ol><figure id="7bdbb3f1-746d-4daa-8fc1-9a3869041db8" class="image"><a href="Prints/Untitled%2025.png"><img style="width:624px" src="Prints/Untitled%2025.png"/></a></figure><ol type="1" id="4dbf1a45-fdb5-4e3a-98b2-5cfffdf984be" class="numbered-list" start="5"><li>Nesse espaço de código, você fará a substituição para a seguinte função python:</li></ol><pre id="4e33fefb-8ab3-446e-9dcb-84f10f3496e3" class="code"><code>import json
import math

def lambda_handler(event, context):
    mathResult = math.pow(int(event[&#x27;base&#x27;]), int(event[&#x27;exponent&#x27;]))
    return {
    &#x27;statusCode&#x27;: 200,
    &#x27;body&#x27;: json.dumps(&#x27;Your result is &#x27; + str(mathResult))
    }</code></pre><ol type="1" id="1e8fea97-a29c-4d7d-8ef8-9a2810d20174" class="numbered-list" start="6"><li>Confirme o “Deploy” da sua função:</li></ol><figure id="ab9d786a-5de7-4ed5-923a-31957cfdece1" class="image"><a href="Prints/Untitled%2026.png"><img style="width:1476px" src="Prints/Untitled%2026.png"/></a></figure><ol type="1" id="46d977ec-29ad-43b1-b0f4-44ab3d3ab17d" class="numbered-list" start="7"><li>Ao lado do Deploy, há um botão para a criação de um teste, para validarmos se a função está realmente funcionando. Clique nele.</li></ol><ol type="1" id="920c1a12-a450-499d-bda7-8c236d005b67" class="numbered-list" start="8"><li>Dentro da nossa função nós usamos duas variáveis: base e exponent. E então no nosso teste, atribuiremos valor para as duas variáveis:</li></ol><figure id="7edd2b58-bdc0-4de3-a18b-0686de91b854" class="image"><a href="Prints/Untitled%2027.png"><img style="width:721px" src="Prints/Untitled%2027.png"/></a></figure><ol type="1" id="b7a3897c-02b0-4d74-9217-1a6611650bfe" class="numbered-list" start="9"><li>Salve sua função. E logo em seguida clique no botão de “Test”. Terá o seguinte resultado bem sucedido:</li></ol><p id="3c8a128b-a133-4677-b6f8-523201ebe172" class=""> </p><figure id="d93410a7-30c8-44cd-897e-0e266a30cb14" class="image"><a href="Prints/Untitled%2028.png"><img style="width:1472px" src="Prints/Untitled%2028.png"/></a></figure><p id="fefdd98f-1d91-4cc0-91cb-2265082ecb27" class="">
</p><p id="08995a03-43d8-4135-ad22-eb4c9389a776" class="">Essa função Lambda não está completa. Voltaremos ao final complementar ela, após fizermos a devida conexão dessa função com a nossa aplicação.</p><p id="75e7299d-550f-4a3d-a9cd-8e10e6bf8d3b" class="">
</p><h2 id="a705c6c4-9d81-4be1-ac4a-cc72ac7aa91a" class="">6. Conexão entre o AWS Lambda e o API Gateway</h2><p id="32ed2527-497f-421a-9197-c8a30823d50a" class="">Na etapa anterior, fizemos a criação da função que realizará o cálculo da operação matemática de exponenciação, porém, essa função ainda não está conversando com a nossa aplicação no Amplify. E então ai que entra a solução da “API Gateway”. Começaremos a realizar essa conexão entre a AWS Lambda e AWS Amplify.</p><ol type="1" id="77388aab-39de-42fe-9ff8-b02358f7f208" class="numbered-list" start="1"><li>Busque pelo serviço de “<strong><strong>Amazon API Gateway</strong></strong>”</li></ol><ol type="1" id="b7b96e11-8484-4dad-a4ef-4c7bed84beef" class="numbered-list" start="2"><li>Desça a página até a opção de “API REST”. Clique em “Compilar”:</li></ol><figure id="adf594a5-19bb-48d7-94a3-8f2b589878e1" class="image"><a href="Prints/Untitled%2029.png"><img style="width:1091px" src="Prints/Untitled%2029.png"/></a></figure><ol type="1" id="79f51fc7-443d-4230-aac3-88e116a12ab9" class="numbered-list" start="3"><li>Na tela de criação de API, escolha “New API” e dê um nome para a sua API. Confirme a criação da API</li></ol><figure id="48621430-7031-45fe-8d1c-58f37168133c" class="image"><a href="Prints/Untitled%2030.png"><img style="width:1704px" src="Prints/Untitled%2030.png"/></a></figure><ol type="1" id="454f2225-3128-4395-a448-bf9561fa14bf" class="numbered-list" start="4"><li>Você será redirecionado para a aba de “Resources” da API que você acabou de criar, clique em “/” e logo em seguida clique em “Actions”, selecione a opção “Create Method”:</li></ol><figure id="2ef71bb9-54e9-4710-8315-190b2bd8ff4d" class="image"><a href="Prints/Untitled%2031.png"><img style="width:1699px" src="Prints/Untitled%2031.png"/></a></figure><ol type="1" id="844332ce-98f8-48d2-bd9e-871ac460996c" class="numbered-list" start="5"><li>Selecione o método POST e confirme:</li></ol><figure id="af94f2e5-52e1-4066-a049-3b8419470874" class="image"><a href="Prints/Untitled%2032.png"><img style="width:1697px" src="Prints/Untitled%2032.png"/></a></figure><ol type="1" id="faefb22c-9cc5-4b5b-a877-70a4f27805ec" class="numbered-list" start="6"><li>Adicione a sua Função Lambda que acabamos de criar:</li></ol><figure id="460b032b-6d23-4a0d-a06a-123369749f77" class="image"><a href="Prints/Untitled%2033.png"><img style="width:846px" src="Prints/Untitled%2033.png"/></a></figure><ol type="1" id="77493c15-37d3-404a-817a-dbda69e70b9d" class="numbered-list" start="7"><li>E então, clique em salvar.</li></ol><p id="c6ccbb0e-3a6d-4cf6-96dc-43205ecd82e7" class="">
</p><p id="84cb49a5-fb10-482b-b8f4-553332bbcf5c" class="">Agora, vamos precisar alterar uma configuração dessa API, para que a conexão entre o AWS Amplify e Lambda funcionem corretamente. Pois a função Lambda será executada em outro domínio, fora do domínio, da aplicação. E então habilitaremos uma configuração para que isso aconteça da forma correta:</p><ol type="1" id="52d90ae8-c717-4bc3-bf50-2d3f82aa0c83" class="numbered-list" start="1"><li>Clique novamente em “Actions”</li></ol><ol type="1" id="ec7468ef-15bc-4a88-bea5-36bc63ad8629" class="numbered-list" start="2"><li>Selecione a opção:”Enable CORS”</li></ol><figure id="c9433ef6-499a-41c8-b559-205a0676f03f" class="image"><a href="Prints/Untitled%2034.png"><img style="width:1678px" src="Prints/Untitled%2034.png"/></a></figure><ol type="1" id="054d921c-f7db-4478-82a4-9783e4385b3d" class="numbered-list" start="3"><li>Confirme a opção de “Enable CORS…”</li></ol><figure id="1e60c1be-74eb-49bc-ba86-008d7f675762" class="image"><a href="Prints/Untitled%2035.png"><img style="width:1690px" src="Prints/Untitled%2035.png"/></a></figure><ol type="1" id="12efc72a-e785-49d7-b999-fd4586af2e77" class="numbered-list" start="4"><li>Logo em seguida confirme novamente. Você terá a seguinte tela:</li></ol><figure id="4f895d2c-27ac-4b78-a226-b128c8cabc0f" class="image"><a href="Prints/Untitled%2036.png"><img style="width:1630px" src="Prints/Untitled%2036.png"/></a></figure><ol type="1" id="6a5a0e6a-da75-44a7-b6d8-0b7b68b9ce24" class="numbered-list" start="5"><li>Agora iremos apenas fazer o “Deploy” da nossa API. Clicando novamente em “Actions” e selecionando a opção de “Deploy API”:</li></ol><figure id="a545f73e-21c8-4dbc-bb83-8afb3b76e212" class="image"><a href="Prints/Untitled%2037.png"><img style="width:1259px" src="Prints/Untitled%2037.png"/></a></figure><ol type="1" id="6bb864af-e0ae-4063-a04b-02537cfb3626" class="numbered-list" start="6"><li>Selecione “New Stage” e então dê um nome para o Stage:</li></ol><figure id="75c0264b-c480-4a07-9a42-85e81295c80c" class="image"><a href="Prints/Untitled%2038.png"><img style="width:566px" src="Prints/Untitled%2038.png"/></a></figure><ol type="1" id="f4ad65a5-9f42-4933-9e1b-8d8fc2788e78" class="numbered-list" start="7"><li>Após você finalizar o “Deploy”, seguirá para a próxima tela. Onde você irá precisar salvar a “Invoke URL”, que utilizaremos quando formos chamar nossa API dentro da nossa aplicação:</li></ol><figure id="63826ff4-ba49-4e6a-a819-80976caf1ab6" class="image"><a href="Prints/Untitled%2039.png"><img style="width:1503px" src="Prints/Untitled%2039.png"/></a></figure><ol type="1" id="b38cd007-3a5c-4a96-bf17-a7272cfc9273" class="numbered-list" start="8"><li>Finalize clicando em “Save Changes” ao final da página.</li></ol><p id="6bcf4d9b-7f8c-454b-9b2c-e16845025295" class="">
</p><p id="5d349368-52a3-4bd6-ad01-cebdfccff6cf" class="">E agora faremos um teste para validar se a chamada de API está conseguindo acessar a nossa função Lambda corretamente:</p><ol type="1" id="9007bf53-c0f1-41c4-ba7c-3a82638dbc34" class="numbered-list" start="1"><li>Vá em “Resources” e clique no método POST:</li></ol><figure id="ec5a79ff-f1a7-47b3-8ffb-614d6f1e275a" class="image"><a href="Prints/Untitled%2040.png"><img style="width:1200px" src="Prints/Untitled%2040.png"/></a></figure><ol type="1" id="605d699a-0995-46fd-a906-f574fcd072fc" class="numbered-list" start="2"><li>Clique no “Test”</li></ol><figure id="79b91f9a-80d9-44bd-a72a-7fd02af47483" class="image"><a href="Prints/Untitled%2041.png"><img style="width:1603px" src="Prints/Untitled%2041.png"/></a></figure><ol type="1" id="1776b863-2486-45df-8ae6-48c06b589422" class="numbered-list" start="3"><li>No Body Request, colocaremos aquelas mesmas variáveis de quando fizemos o teste da função Lambda:</li></ol><figure id="43a8102d-44b1-4648-bd08-268d53383754" class="image"><a href="Prints/Untitled%2042.png"><img style="width:1482px" src="Prints/Untitled%2042.png"/></a></figure><ol type="1" id="2e5be330-2f8c-46c6-a291-f496316cf7b8" class="numbered-list" start="4"><li>Ao final da página, clique em “Test”. Teremos o seguinte resultado:</li></ol><figure id="76e3cfdb-fb3b-4eef-a028-ae6bf98740c7" class="image"><a href="Prints/Untitled%2043.png"><img style="width:1170px" src="Prints/Untitled%2043.png"/></a></figure><p id="d7f5b345-d5d5-4164-83b2-489ce2937484" class="">
</p><p id="e60db288-6a3b-4657-966e-c37af2ea158c" class="">Desta forma, já estamos com a nossa Função Lambda conseguindo ser evocada pela nossa chamada de API do API Gateway.</p><p id="be47c1c9-5b88-448c-9523-ac288070f192" class="">
</p><h2 id="22a659ae-0efc-41b7-a2b8-84ad54c57bb7" class="">7. Criação de Tabela no DynamoDB</h2><p id="1ea87300-4fe8-4929-838f-37cd6a399649" class="">Além de retornar o cálculo da exponenciação, nossa aplicação também salvará os resultados em um banco de dados NoSQL. Então faremos a criação dessa tabela no DynamoDB.</p><ol type="1" id="74068fe0-dd3f-4678-a61a-81fff07b615d" class="numbered-list" start="1"><li>Busque pelo serviço de “<strong>Amazon DynamoDB</strong>”</li></ol><ol type="1" id="8f83a150-70ac-4efe-8f7f-efd0db24049f" class="numbered-list" start="2"><li>Clique em “Criar tabela”:</li></ol><figure id="1ddc5ffb-f9fb-4a74-ab03-d0bb4c3cc0f5" class="image"><a href="Prints/Untitled%2044.png"><img style="width:1531px" src="Prints/Untitled%2044.png"/></a></figure><ol type="1" id="964dbbe6-0aa0-4f30-bc0a-b201452dd563" class="numbered-list" start="3"><li>Escolha o nome do seu Banco de Dados e na chave de partição, coloque: ”ID”. O resto deixe padrão e ao final da página confirme com a criação da tabela:</li></ol><figure id="afc778e8-3483-4c6d-bc88-81aa80f9088f" class="image"><a href="Prints/Untitled%2045.png"><img style="width:799px" src="Prints/Untitled%2045.png"/></a></figure><p id="bce2cbeb-c2fa-4b13-b229-2f61d04083d3" class="">
</p><h2 id="b7752cfc-216b-45d1-aba8-4e44b13b68cf" class="">8. Criação de permissão no IAM para o AWS Lambda conseguir gravar informação no DynamoDB</h2><p id="80a53d7a-a91f-42db-89a1-8253b37b66ab" class="">Com a tabela NoSQL criada. Nós precisaremos fazer algumas alterações na nossa Lambda Function ,para que ela grave os resultados na tabela. E também precisamos dar a autorização a função(pelo IAM), para que ela consiga adicionar itens na tabela do DynamoDB.</p><ol type="1" id="ce0fa098-a370-4903-9f6a-fca7768226df" class="numbered-list" start="1"><li>Busque pelo serviço do “<strong>AWS Lambda</strong>”</li></ol><ol type="1" id="9ad09f34-a63a-4966-b14f-1cbbee38d231" class="numbered-list" start="2"><li>Dentro da aba de “Funções”, clique na função que nós criamos:</li></ol><figure id="dc328456-7f78-459b-896e-ee777c8a61be" class="image"><a href="Prints/Untitled%2046.png"><img style="width:1651px" src="Prints/Untitled%2046.png"/></a></figure><ol type="1" id="af660537-210d-48a4-8071-04fa3172193a" class="numbered-list" start="3"><li>Primeiro iremos dar a permissão para a nossa função conseguir adicionar itens no nosso banco de dados do DynamoDB. Clique na aba de “configuração”:</li></ol><figure id="26b410b4-d881-4cc1-90c5-2522b88c0e82" class="image"><a href="Prints/Untitled%2047.png"><img style="width:1518px" src="Prints/Untitled%2047.png"/></a></figure><ol type="1" id="3e1ee910-959c-457e-9bc6-6a4481daf386" class="numbered-list" start="4"><li>Clique no link do “Nome da Função”:</li></ol><figure id="beb285fe-ea10-4c12-897a-f0841ff17041" class="image"><a href="Prints/Untitled%2048.png"><img style="width:1488px" src="Prints/Untitled%2048.png"/></a></figure><ol type="1" id="7dcf7fb7-0609-4b57-b422-fbb9556ca06a" class="numbered-list" start="5"><li>Irá abrir uma nova guia, dentro do serviço do IAM. Onde você irá clicar em “Adicionar permissões” e selecionar “Criar política em linha”:</li></ol><figure id="9577e2ab-84e8-440f-95ad-e6378c131023" class="image"><a href="Prints/Untitled%2049.png"><img style="width:1333px" src="Prints/Untitled%2049.png"/></a></figure><ol type="1" id="bfc2611d-ecfa-4258-b449-019e13d69a7a" class="numbered-list" start="6"><li>Você irá clicar na aba de JSON. E abrirá a seguinte tela:</li></ol><figure id="3b15b4ca-0afb-4b31-bb4c-349fcc50dc22" class="image"><a href="Prints/Untitled%2050.png"><img style="width:1246px" src="Prints/Untitled%2050.png"/></a></figure><ol type="1" id="064c05a1-c436-497c-b50f-a228c5fc70af" class="numbered-list" start="7"><li>Nessa caixa de código, você colocará a seguinte política:</li></ol><pre id="348edc7e-06cd-45d7-954f-bba846f15a36" class="code"><code>{
&quot;Version&quot;: &quot;2012-10-17&quot;,
&quot;Statement&quot;: [
    {
        &quot;Sid&quot;: &quot;VisualEditor0&quot;,
        &quot;Effect&quot;: &quot;Allow&quot;,
        &quot;Action&quot;: [
            &quot;dynamodb:PutItem&quot;,
            &quot;dynamodb:DeleteItem&quot;,
            &quot;dynamodb:GetItem&quot;,
            &quot;dynamodb:Scan&quot;,
            &quot;dynamodb:Query&quot;,
            &quot;dynamodb:UpdateItem&quot;
        ],
        &quot;Resource&quot;: &quot;arn:aws:dynamodb:sa-east-1:302166710586:table/aplicativo-exponencial-db&quot;
    }
    ]
}</code></pre><p id="f81a6948-26e3-4696-8532-b95288f31bdd" class="">OBS: Na parte de “Resource”, você precisa colocar o ARN da tabela do DynamoDB que acabamos de criar. Para você encontrar a ARN da sua tabela, basta você ir no DynamoDB, ir em tabelas e em Visão Geral e terá uma opção de “Informações adicionais”, que ao clicar irá aparecer o ARN da sua tabela.</p><ol type="1" id="be563d1d-a2a9-43c9-81ca-0070d79d2c3e" class="numbered-list" start="8"><li>Pode clicar em “Revisar Política”. E logo em seguida dar um nome a essa política para então clicar em “Criar Política”.</li></ol><ol type="1" id="02b21f18-863b-4032-bfee-0dd3d1a7123e" class="numbered-list" start="9"><li>Voltando a nossa função Lambda, nós iremos alterar a função para a seguinte:</li></ol><pre id="6b32db68-2945-45f5-864d-bf8db37ea8d5" class="code"><code>import json
import math
import boto3
from time import gmtime, strftime

dynamodb = boto3.resource(&#x27;dynamodb&#x27;)
table = dynamodb.Table(&#x27;aplicativo-exponencial-db&#x27;)
now = strftime(&quot;%a, %d %b %Y %H:%M:%S +0000&quot;, gmtime())

def lambda_handler(event, context):
    mathResult = math.pow(int(event[&#x27;base&#x27;]), int(event[&#x27;exponent&#x27;]))
    response = table.put_item(
        Item={
            &#x27;ID&#x27;: str(mathResult),
            &#x27;LatestGreetingTime&#x27;:now
            })
    return {
    &#x27;statusCode&#x27;: 200,
    &#x27;body&#x27;: json.dumps(&#x27;Your result is &#x27; + str(mathResult))
    }</code></pre><p id="75712730-c508-4389-bb53-316395061ad1" class="">NOTA: Na linha de código que aparece:”table = dynamodb.Table(&#x27;aplicativo-exponencial-db&#x27;)”, é necessário alterar o nome da tabela para o nome da tabela que você criou para utilizar no DynamoDB.</p><ol type="1" id="db0cc0c1-0149-4ebd-9ec3-9c6dac05ed5d" class="numbered-list" start="10"><li>Realize o Deploy dessa alteração. E realize um novo teste.</li></ol><ol type="1" id="19fc3bf1-1f00-48e7-9366-d1169e677d29" class="numbered-list" start="11"><li>Aparecerá novamente o resultado da teste, igual foi quando estávamos testando a Lambda Function. Mas quando olhamos o DynamoDB, podemos observar que um novo item foi adicionado:</li></ol><figure id="60d47ca9-c97c-45df-90c1-2e87f97a6187" class="image"><a href="Prints/Untitled%2051.png"><img style="width:1388px" src="Prints/Untitled%2051.png"/></a></figure><p id="27a33f43-56ae-4356-960d-75025e065705" class="">NOTA: Para você conseguir visualizar se adicionou um novo item na sua tabela do DynamoDB. Basta você acessar a tabela do DynamoDB e clicar em “Explorar itens da tabela”.</p><p id="443b2a20-841a-427e-ac5c-c61ff0f5d7f2" class="">
</p><h2 id="e4eecb77-be2a-44a1-b78e-011ca50f15e6" class="">9. Conexão entre o API Gateway e o Amplify</h2><p id="179c11f3-2763-4a6b-964f-5c202a2b4531" class="">Nesse momento, só precisamos que o nosso aplicativo faça a chamada da API Gateway dentro da sua estrutura de código. Então iremos no Visual Studio Code, e faremos a alteração do nosso código do aplicativo, para a seguinte estrutura:</p><pre id="c7506bd6-e417-4bab-9867-92dd842db3b3" class="code"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Aplicativo Exponencial!&lt;/title&gt;
    &lt;style&gt;
    h1 {
        color: #FFFFFF;
        font-family: system-ui;
		margin-left: 20px;
        }
	body {
        background-color: #222629;
        }
    label {
        color: #86C232;
        font-family: system-ui;
        font-size: 20px;
        margin-left: 20px;
		margin-top: 20px;
        }
     button {
        background-color: #86C232;
		border-color: #86C232;
		color: #FFFFFF;
        font-family: system-ui;
        font-size: 20px;
		font-weight: bold;
        margin-left: 30px;
		margin-top: 20px;
		width: 140px;
        }
	 input {
        color: #222629;
        font-family: system-ui;
        font-size: 20px;
        margin-left: 10px;
		margin-top: 20px;
		width: 100px;
        }
    &lt;/style&gt;
    &lt;script&gt;
        var callAPI = (base,exponent)=&gt;{
            var myHeaders = new Headers();
            myHeaders.append(&quot;Content-Type&quot;, &quot;application/json&quot;);
            var raw = JSON.stringify({&quot;base&quot;:base,&quot;exponent&quot;:exponent});
            var requestOptions = {
                method: &#x27;POST&#x27;,
                headers: myHeaders,
                body: raw,
                redirect: &#x27;follow&#x27;
            };
            fetch(&quot;https://d1ysnu8xxg.execute-api.sa-east-1.amazonaws.com/dev&quot;, requestOptions)
            .then(response =&gt; response.text())
            .then(result =&gt; alert(JSON.parse(result).body))
            .catch(error =&gt; console.log(&#x27;error&#x27;, error));
        }
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Conheça o potencial do Aplicativo Exponencial!&lt;/h1&gt;
	&lt;form&gt;
        &lt;label&gt;Número Base:&lt;/label&gt;
        &lt;input type=&quot;text&quot; id=&quot;base&quot;&gt;
        &lt;label&gt;...elevado a:&lt;/label&gt;
        &lt;input type=&quot;text&quot; id=&quot;exponent&quot;&gt;
        &lt;button type=&quot;button&quot; onclick=&quot;callAPI(document.getElementById(&#x27;base&#x27;).value,document.getElementById(&#x27;exponent&#x27;).value)&quot;&gt;CALCULAR&lt;/button&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="e7f3245d-2f0c-44f0-a2e8-6ec95b70923c" class="">
</p><p id="dc7e1051-cd10-455f-9354-7799ae5e745f" class="">Sendo que na parte do “fetch” no script. Você precisa substituir a “Invoke URL” que conseguimos na etapa em que estávamos montando nossa API na API Gateway.</p><p id="34d81672-7f0d-45ee-92b4-328d26fb2ea3" class="">
</p><h2 id="5497f1b6-8250-4940-86de-116a31ddacc5" class="">10. Resultados do Projeto</h2><p id="978cdc34-ba1f-455a-9aee-13bff9fbcd32" class="">Logo em seguida realize o “push” para o nosso repositório no AWS CodeCommit. Por meio das funções, no terminal do VS Code:</p><pre id="e1226d17-2792-45ed-942a-54d2f062f0cb" class="code"><code>git add .\index.html</code></pre><pre id="b241d081-8e88-43fe-991d-8f3db0fd19d9" class="code"><code>git commit -m &quot;Aplicação Completa&quot;</code></pre><pre id="62e6060a-c000-401b-a289-128053c270af" class="code"><code>git push aplicativo-exponencial main</code></pre><p id="02d4f6ca-0246-45ec-91b2-1a661edf68b2" class="">
</p><p id="b273072d-7e0b-4d6d-b170-d88f5a1bd7c7" class="">Logo após isso, o novo código da aplicação será enviado para o nosso repositório da AWS. E fará com que o AWS Amplify atualize com a nova versão da aplicação. E ficará com o seguinte visualização:</p><figure id="92a7d776-1c39-44e1-b837-37ab7e3a78c4" class="image"><a href="Prints/Untitled%2052.png"><img style="width:1428px" src="Prints/Untitled%2052.png"/></a></figure><p id="8b89accc-0fd2-4d8c-8138-3e13ac83fcf2" class="">
</p><p id="291af9c8-c408-4bc7-ab6e-47bd12be94e9" class="">Ao preencher os parâmetros e solicitar o resultado:</p><figure id="b1a44d45-b509-425b-9dea-1ae9c99df850" class="image"><a href="Prints/Untitled%2053.png"><img style="width:1330px" src="Prints/Untitled%2053.png"/></a></figure><p id="17d54b9a-b702-473b-b5de-4f761f2c80b7" class="">
</p><p id="77eff065-f796-40e0-b905-2b99e2672da5" class="">E por fim, nossos dados sendo armazenados no nosso banco de dados NoSQL:</p><figure id="1178c5b4-3a00-45c3-983f-f626b0307cb8" class="image"><a href="Prints/Untitled%2054.png"><img style="width:1396px" src="Prints/Untitled%2054.png"/></a></figure><p id="f771dab4-630c-4bf4-ab0e-070193564365" class="">
</p><p id="b76b8e06-b26f-4bfa-8bfe-20bb9563a34b" class="">Se você estiver utilizando esse documentação a fim de estudos. Recomendo, ao final do projeto fazer a exclusão de:</p><ul id="31287958-08be-4909-bb7a-4dea723ad7e6" class="bulleted-list"><li style="list-style-type:disc">Repositório no CodeCommit</li></ul><ul id="31a04845-0c54-42d2-bb6e-4940f6267211" class="bulleted-list"><li style="list-style-type:disc">Exclusão do Aplicativo no Amplify</li></ul><ul id="adc5d73a-386b-44c8-a38d-e0072fa198ca" class="bulleted-list"><li style="list-style-type:disc">Exclusão da API no API Gateway</li></ul><ul id="180a3de9-afb4-492b-bf21-7a692ba6285f" class="bulleted-list"><li style="list-style-type:disc">Exclusão da Função no AWS Lambda</li></ul><ul id="379ffb42-f884-463b-bb51-52d9fcccb91a" class="bulleted-list"><li style="list-style-type:disc">Exclusão da tabela no DynamoDB</li></ul></div></article></body>
